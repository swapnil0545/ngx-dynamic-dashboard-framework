<mat-card class="widget-card">
  <app-gadget-header
    [title]="title"
    [subtitle]="subtitle"
    [iconpath]="icon"
    [isMaximized]="isMaximized"
    (removeEvent)="remove()"
    [inConfig]="inConfig"
    (toggleConfigModeEvent)="toggleConfigMode()"
    (toggleMaximize)="toggleMaximize()"
  >
  </app-gadget-header>

  <mat-card-content
    #containerRef
    *ngIf="!inConfig"
    class="widget-content no-drag"
  >
    <ngx-charts-area-chart
      [scheme]="colorScheme"
      [curve]="curveShape"
      [legend]="legend"
      [showXAxisLabel]="showXAxisLabel"
      [showYAxisLabel]="showYAxisLabel"
      [xAxis]="xAxis"
      [yAxis]="yAxis"
      [xAxisLabel]="xAxisLabel"
      [yAxisLabel]="yAxisLabel"
      [timeline]="timeline"
      [results]="multi"
      [view]="[containerRef.offsetWidth - 20, containerRef.offsetHeight]"
    >
    </ngx-charts-area-chart>
  </mat-card-content>

  <mat-card-content *ngIf="inConfig">
    <app-dynamic-form
      [gadgetTags]="tags"
      [propertyPages]="propertyPages"
      [instanceId]="instanceId"
      [tabIndex]="isMissingPropertyValue() ? 1 : 0"
      (updatePropertiesEvent)="propertyChangeEvent($event)"
    >
    </app-dynamic-form>
  </mat-card-content>
</mat-card>
